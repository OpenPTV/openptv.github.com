<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>7.5 Type testing</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node11.html#section.cif.aa">&lt;&lt; Prev</A></TD><TD><A href="node7.html">- Up -</A></TD><TD><A href="node13.html#section.cif.conv">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="section.cif.tt"><H2><A name="section.cif.tt">7.5 Type testing</A></H2><P>To check whether a given <CODE>OZ_Term</CODE> is a certain Oz value several functions are provided: </P><DL><DT><CODE>OZ_isAtom</CODE></DT><DT><CODE>OZ_isBool</CODE></DT><DT><CODE>OZ_isCell</CODE></DT><DT><CODE>OZ_isThread</CODE></DT><DT><CODE>OZ_isPort</CODE></DT><DT><CODE>OZ_isChunk</CODE></DT><DT><CODE>OZ_isDictionary</CODE></DT><DT><CODE>OZ_isCons</CODE></DT><DT><CODE>OZ_isFalse</CODE></DT><DT><CODE>OZ_isFeature</CODE></DT><DT><CODE>OZ_isFloat</CODE></DT><DT><CODE>OZ_isInt</CODE></DT><DT><CODE>OZ_isBigInt</CODE></DT><DT><CODE>OZ_isSmallInt</CODE></DT><DT><CODE>OZ_isNumber</CODE></DT><DT><CODE>OZ_isLiteral</CODE></DT><DT><CODE>OZ_isName</CODE></DT><DT><CODE>OZ_isNil</CODE></DT><DT><CODE>OZ_isObject</CODE></DT><DT><CODE>OZ_isPair</CODE></DT><DT><CODE>OZ_isPair2</CODE></DT><DT><CODE>OZ_isProcedure</CODE></DT><DT><CODE>OZ_isRecord</CODE></DT><DT><CODE>OZ_isTrue</CODE></DT><DT><CODE>OZ_isTuple</CODE></DT><DT><CODE>OZ_isUnit</CODE></DT><DT><CODE>OZ_isValue</CODE></DT><DT><CODE>OZ_isVariable</CODE></DT><DT><CODE>OZ_isBitString</CODE></DT><DT><CODE>OZ_isByteString</CODE></DT><DT><CODE>OZ_isFSetValue</CODE> <A name="label60"></A> <A name="label62"></A> <A name="label64"></A> <A name="label66"></A> <A name="label68"></A> <A name="label70"></A> <A name="label72"></A> <A name="label74"></A> <A name="label76"></A> <A name="label78"></A> <A name="label80"></A> <A name="label82"></A> <A name="label84"></A> <A name="label86"></A> <A name="label88"></A> <A name="label90"></A> <A name="label92"></A> <A name="label94"></A> <A name="label96"></A> <A name="label98"></A> <A name="label100"></A> <A name="label102"></A> <A name="label104"></A> <A name="label106"></A> <A name="label108"></A> <A name="label110"></A> <A name="label112"></A> <A name="label114"></A> <A name="label116"></A> <A name="label118"></A> <A name="label120"></A> </DT><DD><BLOCKQUOTE class="synopsis"><P>All these functions have the same signature. For example <CODE>OZ_isAtom</CODE> is declared as <CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_isAtom</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>All type tests return nonzero iff their argument is of the respective type.</P><P>A few of these need some more explanation:</P><P> <CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_isBigInt</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)<BR><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_isSmallInt</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P><P>The emulator has two representations for integers: small integers and big integers. Small integers are implemented very efficiently.</P><P><A name="label122"></A> <CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_isPair</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P><P>Returns zero iff <CODE>t</CODE> is a tuple with label <CODE>#</CODE>.</P><P><A name="label124"></A> <CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_isPair2</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P><P>Returns nonzero iff <CODE>t</CODE> is a tuple with label <CODE>#</CODE> and arity of 2.</P><P><A name="label126"></A> <CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_isValue</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P><P>Returns nonzero iff <CODE>t</CODE> is not a variable.</P><P><A name="label128"></A> <CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_isVariable</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P><P>Returns nonzero iff <CODE>t</CODE> is a variable. </P></DD><DT><CODE>OZ_isList</CODE> <A name="label130"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_isList</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">term</SPAN>,&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;*<SPAN class="variablename">var</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns nonzero iff <CODE>term</CODE> is a list. If <CODE>term</CODE> is no list, but the tail is a variable, then <CODE>*var</CODE> is set to the tail of the list, else it is set to null. <CODE>var</CODE> may be null. If <CODE>term</CODE> is cyclic then <CODE>OZ_isList</CODE> never terminates! </P></DD><DT><CODE>OZ_isString</CODE> <A name="label132"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_isString</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">term</SPAN>,&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;*<SPAN class="variablename">var</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns nonzero iff <CODE>term</CODE> is an Oz string. If <CODE>term</CODE> is no string, but the tail or an element of the list is a variable, then <CODE>*var</CODE> is set to this variable, else it is set to null. <CODE>var</CODE> may be null. If <CODE>term</CODE> is cyclic then <CODE>OZ_isString</CODE> never terminates! </P></DD><DT><CODE>OZ_isVirtualString</CODE> <A name="label134"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">int</SPAN>&nbsp;<SPAN class="functionname">OZ_isVirtualString</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">term</SPAN>,&nbsp;<SPAN class="type">OZ_Term</SPAN>&nbsp;*<SPAN class="variablename">var</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns nonzero iff <CODE>term</CODE> is a virtual string. If <CODE>term</CODE> is no virtual string, but contains a variable, then <CODE>*var</CODE> is set to this variable, else it is set to null. <CODE>var</CODE> may be null. If <CODE>term</CODE> is cyclic then <CODE>OZ_isVirtualString</CODE> never terminates! </P></DD><DT><CODE>OZ_termType</CODE> <A name="label136"></A></DT><DD><BLOCKQUOTE class="synopsis"><P><CODE><SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="functionname">OZ_termType</SPAN>(<SPAN class="type">OZ_Term</SPAN>&nbsp;<SPAN class="variablename">t</SPAN>)</CODE></P></BLOCKQUOTE></DD><DD><P>Returns an atom describing the type of <CODE>t</CODE>. The following types are returned: </P><BLOCKQUOTE class="code"><CODE>variable,&nbsp;<SPAN class="type">int</SPAN>,&nbsp;<SPAN class="type">float</SPAN>,&nbsp;atom,&nbsp;name,&nbsp;tuple,&nbsp;record,&nbsp;fset,<BR>foreignPointer,&nbsp;procedure,&nbsp;cell,&nbsp;space,&nbsp;object,&nbsp;port,<BR>chunk,&nbsp;array,&nbsp;dictionary,&nbsp;lock&nbsp;<SPAN class="keyword">class</SPAN>,&nbsp;resource</CODE></BLOCKQUOTE><P> (see also <CODE>Value.type</CODE> in <A href="../base/node4.html#section.values.status">Section&nbsp;3.2 of ``The Oz Base Environment''</A>).</P></DD></DL><P></P></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node11.html#section.cif.aa">&lt;&lt; Prev</A></TD><TD><A href="node7.html">- Up -</A></TD><TD><A href="node13.html#section.cif.conv">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS><A href="http://www.ps.uni-sb.de/~mehl/">Michael&nbsp;Mehl</A>, <A href="http://www.ps.uni-sb.de/~tmueller/">Tobias&nbsp;Müller</A>, <A href="http://www.ps.uni-sb.de/~schulte/">Christian&nbsp;Schulte</A> and&nbsp;<A href="http://www.ps.uni-sb.de/~scheidhr/">Ralf&nbsp;Scheidhauer</A><BR><SPAN class="version">Version 1.4.0 (20080702)</SPAN></ADDRESS></BODY></HTML>
