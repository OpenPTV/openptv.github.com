<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>7 Unhandled Exceptions</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node6.html#chapter.data">&lt;&lt; Prev</A></TD><TD><A href="index.html">- Up -</A></TD><TD><A href="node8.html#chapter.remote">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="chapter.exceptions"><H1><A name="chapter.exceptions">7 Unhandled Exceptions</A></H1><P> Errors in programs often manifest themselves by unhandled exceptions. Ozcar supports post-mortem inspection of threads that died of a system or error exception. (User exceptions do not provide debugging information - work around this by raising your exceptions as error exceptions, using <CODE>Exception<SPAN class="keyword">.</SPAN>raiseError</CODE>.) </P><DIV class="apropos"><P class="margin">Exception Handling</P><P> Any unhandled exception, which is normally just printed out to standard error, is caught by Ozcar. It attaches the dying thread and displays the stack from the time the exception was raised (or re-raised). The topmost frame gets the description <CODE>exception</CODE> followed by the exception value itself. Note that all stack frames include environment information. The description of the exception itself is provided in the Status Line. </P></DIV><DIV class="apropos"><P class="margin">Example</P><P> Consider the following code. Its author forgot to handle some value in his patterns, leading to a missing <CODE><SPAN class="keyword">else</SPAN></CODE> exception, as depicted in <A href="node7.html#picture.exception">Picture&nbsp;7.1</A>: </P><BLOCKQUOTE class="code"><CODE><SPAN class="keyword">local</SPAN>&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN class="keyword">proc</SPAN><SPAN class="variablename">&nbsp;</SPAN>{<SPAN class="functionname">Check</SPAN>&nbsp;X}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN class="keyword">case</SPAN>&nbsp;X<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN class="keyword">of</SPAN>&nbsp;foo&nbsp;<SPAN class="keyword">then</SPAN>&nbsp;{Show&nbsp;<SPAN class="string">'This&nbsp;is&nbsp;a&nbsp;foo'</SPAN>}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN class="keyword">[]</SPAN>&nbsp;bar&nbsp;<SPAN class="keyword">then</SPAN>&nbsp;{Show&nbsp;<SPAN class="string">'This&nbsp;is&nbsp;a&nbsp;bar'</SPAN>}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN class="keyword">end</SPAN>&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN class="keyword">end</SPAN>&nbsp;<BR><SPAN class="keyword">in</SPAN>&nbsp;<BR>&nbsp;&nbsp;&nbsp;{Check&nbsp;foobar}<BR><SPAN class="keyword">end</SPAN></CODE></BLOCKQUOTE><P> </P><DIV class="picture" id="picture.exception"><HR><P><A name="picture.exception"></A></P><P></P><DIV align="center"><IMG alt="" src="exception.gif"></DIV><P> </P><P class="caption"><STRONG>Picture&nbsp;7.1:</STRONG> An Exception has not been Handled</P><HR></DIV><P> </P></DIV><DIV class="apropos"><P class="margin">Source View</P><P> Emacs displays the location in the source code where the exception was raised. Note that the bar is colored red, as the position has been reached unexpectedly. </P><DIV class="picture" id="picture.exception-emacs"><HR><P><A name="picture.exception-emacs"></A></P><P></P><DIV align="center"><IMG alt="" src="exception-emacs.gif"></DIV><P> </P><P class="caption"><STRONG>Picture&nbsp;7.2:</STRONG> Emacs Showing the Error Position</P><HR></DIV><P> </P></DIV></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node6.html#chapter.data">&lt;&lt; Prev</A></TD><TD><A href="index.html">- Up -</A></TD><TD><A href="node8.html#chapter.remote">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS><A href="http://www.ps.uni-sb.de/~lorenz/">Benjamin&nbsp;Lorenz</A> and&nbsp;<A href="http://www.ps.uni-sb.de/~kornstae/">Leif&nbsp;Kornstaedt</A><BR><SPAN class="version">Version 1.4.0 (20080702)</SPAN></ADDRESS></BODY></HTML>
