<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>2 Invoking the Debugger</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node1.html#chapter.intro">&lt;&lt; Prev</A></TD><TD><A href="index.html">- Up -</A></TD><TD><A href="node3.html#chapter.gui">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="chapter.invoking"><H1><A name="chapter.invoking">2 Invoking the Debugger</A></H1><P> There are several ways to start Ozcar: from the Oz Programming Interface, during interactive development; and from the shell, to debug standalone applications. Furthermore, an API is provided to enable user applications to control the debugger. </P><DIV class="apropos"><P class="margin">Startup Effects</P><P> When Ozcar is started, the following actions will be performed: </P><UL><LI><P>The interaction window is opened. </P></LI><LI><P>Concurrent threads are observed: When a thread reaches a breakpoint or raises an unhandled exception, the debugger takes control of this thread. This is called <A name="label1"></A><EM>attaching</EM> a thread. </P></LI><LI><P>When running under the OPI, the compiler's switches are configured to generate code with debug information. </P></LI></UL><P> </P></DIV><H2><A name="label2">2.1 Debugging within the Oz Programming Interface</A></H2><P> Ozcar can directly be started from the OPI using the Oz menu. This executes the Emacs command <CODE>oz-debugger</CODE> (see also <A href="../opi/node5.html#chapter.tools">Chapter&nbsp;5 of ``The Oz Programming Interface''</A>), which is also bound to the key sequence <SPAN class="key">C-. C-. d</SPAN> by default. Any code you feed within the OPI will now run under control of the debugger. </P><DIV class="apropos"><P class="margin">Suspending Ozcar</P><P> With a prefix argument (<SPAN class="key">C-u C-. C-. d</SPAN>), Ozcar is suspended and its window is closed. Note that this means that all attached threads remain under the control of the debugger (but no new threads will be attached). Starting Ozcar again will allow you to continue debugging exactly where you stopped. </P></DIV><H2><A name="label3">2.2 Debugging Standalone Applications</A></H2><P> It is also possible to run standalone applications under control of the debugger. For this purpose, the <CODE>ozd</CODE> application is provided (which, incidentally, is itself an Oz application). For instance, to debug an application <CODE>foo</CODE>, run <CODE>ozd</CODE> as follows: </P><BLOCKQUOTE class="code"><CODE>ozd&nbsp;-E&nbsp;foo&nbsp;--&nbsp;</CODE><I>args</I></BLOCKQUOTE><P> This invokes Ozcar, with an associated Emacs for source handling (since the <CODE>-E</CODE> option was given), and attaches the main thread of the application <CODE>foo</CODE>. </P><DIV class="apropos"><P class="margin">Command Line Options</P><P> For more information on <CODE>ozd</CODE>'s command line options, refer to <A href="../tools/node12.html#chapter.debugger">Chapter&nbsp;4 of ``Oz Shell Utilities''</A>. </P></DIV><H2><A name="label4">2.3 Invoking Ozcar through its API</A></H2><P> Ozcar is implemented as an Oz functor and as such is immediately available to the application programmer. After importing the module <CODE>Ozcar</CODE> from its URL <CODE>x-oz://system/Ozcar</CODE>, Ozcar can be opened by <CODE>{Ozcar<SPAN class="keyword">.</SPAN>open}</CODE> and suspended again by <CODE>{Ozcar<SPAN class="keyword">.</SPAN>close}</CODE>. A detailed description of the API is given in <A href="node11.html#appendix.api">Appendix&nbsp;B</A>. </P></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node1.html#chapter.intro">&lt;&lt; Prev</A></TD><TD><A href="index.html">- Up -</A></TD><TD><A href="node3.html#chapter.gui">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS><A href="http://www.ps.uni-sb.de/~lorenz/">Benjamin&nbsp;Lorenz</A> and&nbsp;<A href="http://www.ps.uni-sb.de/~kornstae/">Leif&nbsp;Kornstaedt</A><BR><SPAN class="version">Version 1.4.0 (20080702)</SPAN></ADDRESS></BODY></HTML>
