<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>5 Creating DLLs under Windows</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node4.html#chapter.unixdll">&lt;&lt; Prev</A></TD><TD><A href="index.html">- Up -</A></TD><TD><A href="node6.html#chapter.tuning">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="chapter.windll"><H1><A name="chapter.windll">5 Creating DLLs under Windows</A></H1><P> <CODE>oztool</CODE> works under Windows as described in <A href="node4.html#chapter.unixdll">Chapter&nbsp;4</A>. In addition <CODE>oztool</CODE> can be directed to call different compilers and linkers to create object files and DLLs. This is done by specifying one of the following options to <CODE>oztool</CODE> (<CODE>-gnu</CODE> is the default): </P><UL><LI><P><CODE>-gnu</CODE>: use <A href="http://www.xraylith.wisc.edu/~khan/software/gnu-win32/index.html">mingw32</A> or cygwin (i.&nbsp;e., egcs)</P></LI><LI><P><CODE>-msvc</CODE>: use Microsoft Visual C++ 5.0/6.0</P></LI><LI><P><CODE>-watcom</CODE>: use Watcom 10.x</P></LI></UL><P> You can use the option <CODE>-verbose</CODE> to let <CODE>oztool</CODE> print out the commands it executes. This will also give you an idea of what steps to perform if you want to use another compiler than those mentioned in the above list. </P><DIV id="section.compilerproblems"><H2><A name="section.compilerproblems">5.1 Known Bugs and Problems</A></H2><P> </P><OL type="1"><LI><P>When creating DLLs with <A href="http://sourceware.cygnus.com/cygwin/">cygwin</A>, make sure that <CODE>cygwin.dll</CODE> is correctly initialized. The document <A href="http://www.xraylith.wisc.edu/~khan/software/gnu-win32/README.jni.txt">README.jni.txt</A> might give some more help under <CODE><SPAN class="string">&quot;Cygwin&nbsp;notes&quot;</SPAN></CODE>.</P></LI><LI><P>It is not possible to link to a C run-time library other than <CODE>msvcrt.dll</CODE>.</P></LI><LI><P>Because of incompatible name-mangling schemes of different C++ compilers, a library making use of the foreign function interface's C++ classes must be compiled with GNU C++ to link correctly.</P></LI></OL><P> </P></DIV></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node4.html#chapter.unixdll">&lt;&lt; Prev</A></TD><TD><A href="index.html">- Up -</A></TD><TD><A href="node6.html#chapter.tuning">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS><A href="http://www.ps.uni-sb.de/~mehl/">Michael&nbsp;Mehl</A>, <A href="http://www.ps.uni-sb.de/~tmueller/">Tobias&nbsp;Müller</A>, <A href="http://www.ps.uni-sb.de/~schulte/">Christian&nbsp;Schulte</A> and&nbsp;<A href="http://www.ps.uni-sb.de/~scheidhr/">Ralf&nbsp;Scheidhauer</A><BR><SPAN class="version">Version 1.4.0 (20080702)</SPAN></ADDRESS></BODY></HTML>
