<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>Record Examples</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node4.html">- Up -</A></TD></TR></TABLE><DIV class="unnumbered" id="section.application.record.examples"><H3><A name="section.application.record.examples">Record Examples</A></H3><P> Naturally, all examples given for <CODE>list</CODE> are also valid for <CODE>record</CODE>, but in order to make them appear in the resulting option record, we have to specify some additional things. This section illustrates this. </P><DIV class="apropos"><P class="margin">Basics</P><P> For example, with the <CODE>mode</CODE> as specified earlier, the argument list <CODE>--mode=dump</CODE> would result in the following option record: </P><BLOCKQUOTE class="code"><CODE>optRec(1:&nbsp;[mode<SPAN class="keyword">#</SPAN>dump])</CODE></BLOCKQUOTE><P> In order to make it appear, we add the keyword <CODE>single</CODE> to the specification, stating at the same time that this option can be given at most once: </P><BLOCKQUOTE class="code"><CODE>mode(single<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&nbsp;atom(help&nbsp;core&nbsp;outputcode<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feedtoemulator&nbsp;dump&nbsp;executable))</CODE></BLOCKQUOTE><P> Then the option record for <CODE>--mode=dump</CODE> would look like this: </P><BLOCKQUOTE class="code"><CODE>optRec(1:&nbsp;nil&nbsp;mode:&nbsp;dump)</CODE></BLOCKQUOTE><P> </P></DIV><DIV class="apropos"><P class="margin">Default or Required</P><P> Since the <CODE>mode</CODE> gives the basic mode of operation for <CODE>ozc</CODE>, we would be lost if was not given in the arguments, because it would not appear in the option record. To enforce its presence, we can either supply a default: </P><BLOCKQUOTE class="code"><CODE>mode(single&nbsp;type:&nbsp;atom(</CODE>...<CODE>)&nbsp;default:&nbsp;feedtoemulator)</CODE></BLOCKQUOTE><P> or make it a required option: </P><BLOCKQUOTE class="code"><CODE>mode(single&nbsp;type:&nbsp;atom(</CODE>...<CODE>)&nbsp;optional:&nbsp;<SPAN class="keyword">false</SPAN>)</CODE></BLOCKQUOTE><P> </P></DIV><DIV class="apropos"><P class="margin">Multiple Occurrences</P><P> The keyword <CODE>single</CODE> stated that an option may appear at most once in the option record. For some options, this in inadequate. If we want an option to be allowed to occur multiply in the argument list, we have to specify what this means. For instance, </P><BLOCKQUOTE class="code"><CODE>verbose(rightmost&nbsp;char:&nbsp;<SPAN class="string">&amp;v</SPAN>&nbsp;type:&nbsp;bool)</CODE></BLOCKQUOTE><P> means that all but the last occurrences of <CODE>verbose</CODE> are ignored. By the way, in <CODE>ozc</CODE>, <CODE>verbose</CODE> actually has a non-boolean default: </P><BLOCKQUOTE class="code"><CODE>verbose(rightmost&nbsp;char:&nbsp;<SPAN class="string">&amp;v</SPAN>&nbsp;type:&nbsp;bool&nbsp;default:&nbsp;auto)</CODE></BLOCKQUOTE><P> This allows for three modes of operation: The default is to only output messages if they are ``interesting''. When being <CODE>--verbose</CODE>, also uninteresting messages are output, whereas being <CODE>--quiet</CODE>, even the interesting messages are suppressed. </P></DIV><DIV class="apropos"><P class="margin">Collecting in Lists</P><P> It is also possible to state that one wished all occurrences of the same option to be collected in a list. This does not occur in <CODE>ozc</CODE>, so we give a fictitious example here: </P><BLOCKQUOTE class="code"><CODE>cattle(multiple&nbsp;type:&nbsp;list(atom)&nbsp;default:&nbsp;nil)</CODE></BLOCKQUOTE><P> Giving this argument several times, say, <CODE>--cattle=angus,belgianred</CODE>, <CODE>--cattle=charolais</CODE>, and <CODE>--cattle=dexter,highland</CODE> on one command line would result in the following option record: </P><BLOCKQUOTE class="code"><CODE>optRec(1:&nbsp;nil<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cattle:&nbsp;[angus&nbsp;belgianred&nbsp;charolais&nbsp;dexter&nbsp;highland])</CODE></BLOCKQUOTE><P> </P></DIV></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node4.html">- Up -</A></TD></TR></TABLE><HR><ADDRESS><A href="http://www.ps.uni-sb.de/~duchier/">Denys&nbsp;Duchier</A>, <A href="http://www.ps.uni-sb.de/~kornstae/">Leif&nbsp;Kornstaedt</A>, <A href="http://www.ps.uni-sb.de/~homik/">Martin&nbsp;Homik</A>, <A href="http://www.ps.uni-sb.de/~tmueller/">Tobias&nbsp;Müller</A>, <A href="http://www.ps.uni-sb.de/~schulte/">Christian&nbsp;Schulte</A> and&nbsp;<A href="http://www.info.ucl.ac.be/~pvr">Peter&nbsp;Van Roy</A><BR><SPAN class="version">Version 1.4.0 (20080702)</SPAN></ADDRESS></BODY></HTML>
