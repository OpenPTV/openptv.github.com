<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>6 Mozart 1.2.4</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node19.html#chapter.m125">&lt;&lt; Prev</A></TD><TD><A href="index.html">- Up -</A></TD><TD><A href="node21.html#chapter.m123">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="chapter.m124"><H1><A name="chapter.m124">6 Mozart 1.2.4</A></H1><P>Mozart 1.2.4 is a bug-fix and maintenance release, with some enhancements. </P><DIV id="sec.m124.base"><H2><A name="sec.m124.base">6.1 Base</A></H2><P>changes and fixes that concern the base language: </P><UL><LI><P>bytestrings: space now prints as space instead of being encoded as octal</P></LI><LI><P>fixed insertion sort in <CODE>dictionary.cc</CODE> (so what?)</P></LI><LI><P>improved static analysis for <CODE>Port<SPAN class="keyword">.</SPAN>new</CODE>: <CODE>{Port<SPAN class="keyword">.</SPAN>new&nbsp;s&nbsp;_}</CODE> now diagnoses the error due to the typo (atom instead of variable)</P></LI><LI><P>added <CODE>Value<SPAN class="keyword">.</SPAN>isFailed</CODE>: true iff the arg is a failed future</P></LI><LI><P><CODE>Int<SPAN class="keyword">.</SPAN><SPAN class="string">'div'</SPAN></CODE>, <CODE>Int<SPAN class="keyword">.</SPAN><SPAN class="string">'mod'</SPAN></CODE>: work consistently and according to the specification for small and big integers (concerns negative numbers only)</P></LI><LI><P><CODE>Value<SPAN class="keyword">.</SPAN>waitQuiet</CODE> no longer blocks on failed futures</P></LI><LI><P>robustly handle the case of a messed up <CODE>OZLOAD</CODE></P></LI><LI><P>bug fix for <CODE>VirtualString<SPAN class="keyword">.</SPAN>toAtom</CODE></P></LI><LI><P>Sort and Merge are now stable</P></LI><LI><P>new environment variable <CODE>OZ_DOTOZ</CODE> to override default <CODE>~/.oz</CODE>. corresponding property <CODE>oz<SPAN class="keyword">.</SPAN>dotoz</CODE></P></LI><LI><P><CODE>List<SPAN class="keyword">.</SPAN>take</CODE>, <CODE>List<SPAN class="keyword">.</SPAN>drop</CODE> and <CODE>List<SPAN class="keyword">.</SPAN>takeDrop</CODE> no longer unnecessarily block on nondet list tail that is not looked at</P></LI></UL><P> </P></DIV><DIV id="sec.m124.windows"><H2><A name="sec.m124.windows">6.2 Windows</A></H2><P>changes and fixes that concern the Windows platform: </P><UL><LI><P>fixes to compile again with MSVC</P></LI><LI><P>debug emulator can be built</P></LI><LI><P>Control-C should now work</P></LI><LI><P>configuration: Updated to link correctly under the newest mingw (check for either <CODE>-ldirent</CODE> or <CODE>-lmingwex</CODE>) </P></LI><LI><P>fixed other problems due to changes in mingw library</P></LI><LI><P><CODE>OS<SPAN class="keyword">.</SPAN>getEnv</CODE>: now correctly distinguishes between an unset environment variable and an environment variable set to the empty string</P></LI><LI><P>fixed <CODE>Application<SPAN class="keyword">.</SPAN>getCgiArgs</CODE> on Windows for newer Apache (same as previous item)</P></LI><LI><P>fixed <CODE>Open<SPAN class="keyword">.</SPAN>pipe</CODE> pbs</P></LI><LI><P><CODE>OS<SPAN class="keyword">.</SPAN>pipe</CODE>: When the process at the other end of a pipe terminates, end-of-file is reported instead of an exception</P></LI><LI><P><CODE>OS<SPAN class="keyword">.</SPAN>read</CODE>: When an end-of-file arrives on standard input, it is now correctly reported instead of blocking indefinitely</P></LI><LI><P>fixed weird compilation/linking pbs, actually caused by clashing GIDs (see DP)</P></LI><LI><P>oztool more flexible: supports <CODE>-I</CODE>, <CODE>-l</CODE>, <CODE>-L</CODE> and <CODE>-s</CODE> for GNU and MSVC</P></LI><LI><P>OPI: fixed encoding (on Windows) for sending data with accented chars to oz process</P></LI></UL><P> </P></DIV><DIV id="sec.m124.doc"><H2><A name="sec.m124.doc">6.3 Documentation</A></H2><P>changes and fixes to the Mozart documentation: </P><UL><LI><P><CODE>install</CODE>: fixed obsolete hrefs, added windows/cygwin info</P></LI><LI><P><CODE>notation</CODE>: fixed def of &quot;in expression&quot;</P></LI><LI><P><CODE>tutorial</CODE>: typos</P></LI><LI><P><CODE>xsl/ozdoc-fontify.el</CODE>: replaced obsolescent dot-marker by point-marker</P></LI><LI><P><CODE>xsl/ozdoc.cls</CODE>: works again with newer version of float.sty </P></LI></UL><P> </P></DIV><DIV id="sec.m124.cp"><H2><A name="sec.m124.cp">6.4 Constraint Programming</A></H2><P>changes and fixes concerning the constraint programming support: </P><UL><LI><P>documented limitations: </P><UL><LI><P>free var cannot be constrained in subspace: must first be constrained in home space</P></LI><LI><P>number of alternatives of a choice point must be less than 2^27-2</P></LI></UL><P> </P></LI><LI><P><CODE>doc/system/fd</CODE>: fixed typos</P></LI><LI><P>fixed <CODE><SPAN class="keyword">dis</SPAN></CODE></P></LI><LI><P>fixed <CODE><SPAN class="reference">FDBitVector</SPAN>::findMinElemen</CODE> to correctly return -1 for empty vector</P></LI><LI><P>fixed corner case that was causing the infamous &quot;change of representation&quot; bug at 64 elements in rare occasions (<CODE><SPAN class="reference">FSetValue</SPAN>::<SPAN class="keyword">operator</SPAN>&nbsp;&lt;=</CODE>)</P></LI><LI><P>domain consistent propagators are now properly woken up</P></LI><LI><P><CODE><SPAN class="keyword">\=:</SPAN></CODE> now correctly takes variable aliasing and entailment into account</P></LI><LI><P>reified constraints: fixed occasional misbehaviour due to out of bound array access</P></LI><LI><P><CODE>FD<SPAN class="keyword">.</SPAN>distribute</CODE>: bug fixes + improvements. (used to not correctly synchronize on stability on 1st invocation)</P></LI><LI><P><CODE>FS<SPAN class="keyword">.</SPAN>distribute</CODE>: fixed to use stable order, improved, round robin bug fixed (used to drop variables)</P></LI></UL><P> </P></DIV><DIV id="sec.m124.lang"><H2><A name="sec.m124.lang">6.5 Oz Language</A></H2><P>changes and fixes concerning the Oz language </P><UL><LI><P><CODE><SPAN class="keyword">for</SPAN></CODE> loop now supports new experimental features <CODE>while:E</CODE> and <CODE>until:E</CODE></P></LI><LI><P><CODE>doc/loop</CODE> slightly improved</P></LI><LI><P><CODE><SPAN class="keyword">for</SPAN>&nbsp;_&nbsp;<SPAN class="keyword">in</SPAN>&nbsp;1<SPAN class="keyword">..</SPAN>5&nbsp;<SPAN class="keyword">do</SPAN>&nbsp;<SPAN class="keyword">...</SPAN>&nbsp;<SPAN class="keyword">end</SPAN></CODE> now works (it used to block)</P></LI><LI><P>eliminated unnecessary memory allocation for experimental <CODE>collect</CODE> feature</P></LI></UL><P> </P></DIV><DIV id="sec.m124.system"><H2><A name="sec.m124.system">6.6 System Modules</A></H2><P>changes and fixes concerning the System modules: </P><UL><LI><P>Application: </P><UL><LI><P>added <CODE>Application<SPAN class="keyword">.</SPAN>processCgiString</CODE></P></LI><LI><P>fixed <CODE>Application<SPAN class="keyword">.</SPAN>getCgiArgs</CODE> on Windows for newer Apache</P></LI><LI><P>bug fix for <CODE>Application<SPAN class="keyword">.</SPAN>getCmdArgs</CODE></P></LI></UL><P> </P></LI><LI><P>Finalize: </P><UL><LI><P><CODE>doc/system/finalize</CODE>: improved doc about stateless values etc...;</P></LI></UL><P> </P></LI><LI><P>Open: </P><UL><LI><P>documented <CODE>text</CODE> and <CODE>binary</CODE> flags</P></LI><LI><P><CODE>Open<SPAN class="keyword">.</SPAN>text</CODE>: raises a <CODE>closed</CODE> exception instead of a <CODE>type</CODE> exception when operating on a closed stream</P></LI></UL><P> </P></LI><LI><P>System: </P><UL><LI><P>documented <CODE>System<SPAN class="keyword">.</SPAN>onTopLevel</CODE></P></LI></UL><P> </P></LI><LI><P>Property: </P><UL><LI><P>synchronize on undet property values instead of raising an error</P></LI></UL><P> </P></LI><LI><P>DP: </P><UL><LI><P>40% speed up for small distributed messages</P></LI><LI><P>speedup for pickling and 10% decrease in size</P></LI><LI><P>fixed memory leaks in libdp</P></LI><LI><P>global IDs are now robustly/provably unique</P></LI></UL><P> </P></LI><LI><P>Tk: </P><UL><LI><P>iso8859-1 chars properly handled</P></LI><LI><P>image resolver initialized using methods of pickle resolver</P></LI></UL><P> </P></LI></UL><P> </P></DIV><DIV id="sec.m124.tools"><H2><A name="sec.m124.tools">6.7 Tools</A></H2><P>changes and fixes concerning Mozart related tools: </P><UL><LI><P>Browser: </P><UL><LI><P>it is now ok to browse a port in a deep guard</P></LI></UL><P> </P></LI><LI><P>Inspector: </P><UL><LI><P>can now inspect array in deep guard</P></LI></UL><P> </P></LI><LI><P>Gump: </P><UL><LI><P>use relative import for generated native functor</P></LI></UL><P> </P></LI><LI><P>Compiler: </P><UL><LI><P><CODE><SPAN class="reference">\insert</SPAN></CODE> with very long filenames now works</P></LI><LI><P>misc fixes</P></LI><LI><P>fixed <CODE>dynamicvarnames</CODE> pb</P></LI></UL><P> </P></LI><LI><P>ozdoc: </P><UL><LI><P>cross-referenced exercises now use sensible text</P></LI><LI><P>beginning of support for XML</P></LI></UL><P> </P></LI><LI><P>OPI / Emacs Mode: </P><UL><LI><P>fixed encoding (on Windows) for sending data with accented chars to oz process</P></LI></UL><P> </P></LI></UL><P> </P></DIV><DIV id="sec.m124.misc"><H2><A name="sec.m124.misc">6.8 Miscellaneous</A></H2><P> </P><UL><LI><P>Configure/Build: </P><UL><LI><P>version checking improved</P></LI><LI><P>fixed pbs with new version of Bison</P></LI><LI><P>fixed pbs with new version of GMP</P></LI><LI><P>added switch <CODE>--enable-compile-elisp</CODE> (default=yes) as requested by Debian</P></LI><LI><P>added <CODE>--with-emacs-options=</CODE><I>OPTIONS</I> (default=<CODE>-q&nbsp;--no-init-file</CODE> for GNU <CODE>-q&nbsp;-no-init-file</CODE> for XEmacs)</P></LI><LI><P>more robust creation of native functor interface in <CODE>contrib/ri</CODE></P></LI><LI><P>support OpenBSD</P></LI><LI><P>configures and compiles again on recent Linux distros using new versions of libraries</P></LI></UL><P> </P></LI><LI><P>Examples: </P><UL><LI><P><CODE>share/examples/grammar</CODE> updated</P></LI></UL><P> </P></LI><LI><P>Test Suite: </P><UL><LI><P>fixes + new tests</P></LI></UL><P> </P></LI></UL><P> </P></DIV></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node19.html#chapter.m125">&lt;&lt; Prev</A></TD><TD><A href="index.html">- Up -</A></TD><TD><A href="node21.html#chapter.m123">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS><SPAN class="version">Version 1.4.0 (20080702)</SPAN></ADDRESS></BODY></HTML>
